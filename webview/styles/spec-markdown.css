/**
 * SpecKit Companion - Custom Markdown Preview Styles
 * These styles apply to markdown preview in spec files
 */

/* ============================================
   Task List Styling
   ============================================ */

/* Style unchecked task items */
.task-list-item input[type="checkbox"]:not(:checked) + span,
.task-list-item:has(input[type="checkbox"]:not(:checked)) {
    color: var(--vscode-editor-foreground);
}

/* Style checked/completed task items */
.task-list-item input[type="checkbox"]:checked + span,
.task-list-item:has(input[type="checkbox"]:checked)) {
    color: var(--vscode-disabledForeground, #888);
    text-decoration: line-through;
    opacity: 0.7;
}

/* Make checkboxes larger and more visible */
.task-list-item input[type="checkbox"] {
    width: 16px;
    height: 16px;
    margin-right: 8px;
    accent-color: var(--vscode-button-background, #0078d4);
}

/* ============================================
   Spec Document Headers
   ============================================ */

/* Main document title */
h1 {
    color: var(--vscode-textLink-foreground, #3794ff);
    border-bottom: 2px solid var(--vscode-textLink-foreground, #3794ff);
    padding-bottom: 8px;
    margin-bottom: 24px;
    text-align: center;
}

/* Section headers */
h2 {
    color: var(--vscode-editor-foreground);
    border-bottom: 1px solid var(--vscode-panel-border, #444);
    padding-bottom: 6px;
    margin-top: 32px;
    text-align: center;
}

/* Sub-section headers */
h3 {
    color: var(--vscode-descriptionForeground, #aaa);
    margin-top: 24px;
}

/* ============================================
   User Stories & Requirements
   ============================================ */

/* Style "As a... I want... So that..." user stories */
strong:has(+ em),
p > strong:first-child {
    color: var(--vscode-textPreformat-foreground, #ce9178);
}

/* Requirements references (e.g., "Refs: US-1") */
em:last-child {
    color: var(--vscode-textLink-foreground, #3794ff);
    font-style: italic;
    font-size: 0.9em;
}

/* ============================================
   Code Blocks
   ============================================ */

pre {
    background-color: var(--vscode-textCodeBlock-background, #1e1e1e);
    border: 1px solid var(--vscode-panel-border, #444);
    border-radius: 6px;
    padding: 16px;
    overflow-x: auto;
}

code {
    font-family: var(--vscode-editor-font-family, 'Consolas', 'Courier New', monospace);
    font-size: var(--vscode-editor-font-size, 13px);
}

/* Inline code */
p code, li code {
    background-color: var(--vscode-textCodeBlock-background, #1e1e1e);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.9em;
}

/* ============================================
   Lists
   ============================================ */

/* Ordered lists for requirements */
ol {
    counter-reset: item;
    padding-left: 24px;
}

ol > li {
    counter-increment: item;
    margin-bottom: 12px;
}

/* Unordered lists for tasks */
ul {
    padding-left: 24px;
}

ul > li {
    margin-bottom: 8px;
}

/* Nested list items */
li > ul, li > ol {
    margin-top: 8px;
}

/* ============================================
   Acceptance Criteria (EARS format)
   ============================================ */

/* Highlight WHEN/THEN/GIVEN keywords */
li:has(strong:first-child) {
    background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.04));
    padding: 4px 8px;
    border-radius: 4px;
    margin-left: -8px;
}

/* ============================================
   Placeholder Content
   ============================================ */

/* Style placeholder messages */
p:has(em:only-child) {
    color: var(--vscode-descriptionForeground, #888);
    font-style: italic;
    padding: 16px;
    background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.04));
    border-radius: 6px;
    border-left: 4px solid var(--vscode-textLink-foreground, #3794ff);
}

/* ============================================
   Tables (for data models, etc.)
   ============================================ */

table {
    border-collapse: collapse;
    width: 100%;
    margin: 16px 0;
}

th, td {
    border: 1px solid var(--vscode-panel-border, #444);
    padding: 10px 14px;
    text-align: left;
}

th {
    background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.04));
    font-weight: 600;
    color: var(--vscode-textLink-foreground, #3794ff);
}

tr:nth-child(even) {
    background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.02));
}

/* ============================================
   Blockquotes (for notes/warnings)
   ============================================ */

blockquote {
    border-left: 4px solid var(--vscode-textLink-foreground, #3794ff);
    margin: 16px 0;
    padding: 12px 20px;
    background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.04));
    color: var(--vscode-descriptionForeground, #aaa);
}

blockquote p {
    margin: 0;
}

/* ============================================
   Mermaid Diagrams
   ============================================ */

.mermaid {
    background-color: var(--vscode-editor-background, #1e1e1e);
    padding: 16px;
    border-radius: 6px;
    text-align: center;
}

/* ============================================
   Links
   ============================================ */

a {
    color: var(--vscode-textLink-foreground, #3794ff);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

/* ============================================
   Horizontal Rules
   ============================================ */

hr {
    border: none;
    border-top: 1px solid var(--vscode-panel-border, #444);
    margin: 32px 0;
}

/* ============================================
   Status Indicators
   ============================================ */

/* In-progress indicator */
.task-list-item:has(input[type="checkbox"]:not(:checked)):first-of-type {
    background-color: var(--vscode-inputValidation-infoBackground, rgba(0, 120, 212, 0.1));
    border-left: 3px solid var(--vscode-inputValidation-infoBorder, #0078d4);
    padding-left: 12px;
    margin-left: -15px;
}
